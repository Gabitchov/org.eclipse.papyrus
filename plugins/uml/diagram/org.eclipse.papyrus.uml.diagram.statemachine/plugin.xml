<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<!--
 Copyright (c) 2009, 2014 MOSKitt, CEA and others.
 
 All rights reserved. This program and the accompanying materials
 are made available under the terms of the Eclipse Public License v1.0
 which accompanies this distribution, and is available at
 http://www.eclipse.org/legal/epl-v10.html
 
 Contributors:
   MOSKitt - Initial API and implementation
   Christian W. Damus (CEA) - bug 323802
   
-->
<plugin>

      
   <extension point="org.eclipse.gmf.runtime.common.ui.services.markerNavigationProviders" id="markers-navigation">
      <?gmfgen generated="true"?>
      <MarkerNavigationProvider class="org.eclipse.papyrus.uml.diagram.statemachine.providers.UMLMarkerNavigationProvider">
         <MarkerType name="org.eclipse.papyrus.uml.diagram.statemachine.diagnostic"/>
         <Priority name="Lowest"/>
      </MarkerNavigationProvider>
   </extension>

   <extension id="diagnostic" name="PapyrusUMLStateMachineDiagram problems" point="org.eclipse.core.resources.markers">
      <?gmfgen generated="true"?>
      <super type="org.eclipse.core.resources.problemmarker"/>
      <super type="org.eclipse.gmf.runtime.common.ui.services.marker"/>
      <persistent value="true"/>
   </extension>   

   <extension point="org.eclipse.core.runtime.preferences">
		<?gmfgen generated="true"?>
		<initializer class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.DiagramPreferenceInitializer"/>
	</extension>

   <extension point="org.eclipse.ui.preferencePages" id="prefpages">
      <?gmfgen generated="true"?>
      <page
            id="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
            name="PapyrusUMLStateMachineDiagram Diagram"
            category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams"
            class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.DiagramGeneralPreferencePage">
      </page>
      


      <page
            id="org.eclipse.papyrus.uml.diagram.statemachine.preferences.DiagramPrintingPreferencePage"
            name="%prefpage.org.eclipse.uml2.uml.diagram.printing"
            category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
            class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.DiagramPrintingPreferencePage">
      </page>

      <page
            id="org.eclipse.papyrus.uml.diagram.statemachine.preferences.DiagramRulersAndGridPreferencePage"
            name="%prefpage.org.eclipse.uml2.uml.diagram.rulersAndGrid"
            category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
            class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.DiagramRulersAndGridPreferencePage">
      </page>


   </extension>

   <extension point="org.eclipse.ui.views.properties.tabbed.propertyContributor" id="prop-contrib">
      <?gmfgen generated="true"?>
      <propertyContributor
            contributorId="org.eclipse.papyrus.uml.diagram.statemachine"
            labelProvider="org.eclipse.papyrus.uml.diagram.statemachine.sheet.UMLSheetLabelProvider">
         <propertyCategory category="domain"/>
         <propertyCategory category="visual"/>
         <propertyCategory category="extra"/>
      </propertyContributor>
   </extension>

   <extension point="org.eclipse.ui.views.properties.tabbed.propertyTabs" id="proptabs">
      <?gmfgen generated="true"?>   
      <propertyTabs contributorId="org.eclipse.papyrus.uml.diagram.statemachine">
         <propertyTab
             category="visual"
             id="property.tab.AppearancePropertySection"
             label="%tab.appearance"/>
          <propertyTab
             category="visual"
             id="property.tab.DiagramPropertySection"
             label="%tab.diagram"/>
          <propertyTab
             category="domain"
             id="property.tab.domain"
             label="%tab.domain"/>
          <propertyTab
             category="domain"
             id="property.tab.domain"
             label="%tab.domain"/>
          <propertyTab
             category="domain"
             id="property.tab.domain"
             label="%tab.domain"/>
      </propertyTabs>
   </extension>

   <extension point="org.eclipse.ui.views.properties.tabbed.propertySections" id="propsections">
      <?gmfgen generated="true"?>   
      <propertySections contributorId="org.eclipse.papyrus.uml.diagram.statemachine">
         <propertySection id="property.section.ConnectorAppearancePropertySection" 
            filter="org.eclipse.gmf.runtime.diagram.ui.properties.filters.ConnectionEditPartPropertySectionFilter" 
            class="org.eclipse.gmf.runtime.diagram.ui.properties.sections.appearance.ConnectionAppearancePropertySection" 
            tab="property.tab.AppearancePropertySection">
         </propertySection>
         <propertySection id="property.section.ShapeColorAndFontPropertySection" 
            filter="org.eclipse.gmf.runtime.diagram.ui.properties.filters.ShapeEditPartPropertySectionFilter" 
            class="org.eclipse.gmf.runtime.diagram.ui.properties.sections.appearance.ShapeColorsAndFontsPropertySection" 
            tab="property.tab.AppearancePropertySection">
         </propertySection> 
         <propertySection id="property.section.DiagramColorsAndFontsPropertySection" 
            filter="org.eclipse.gmf.runtime.diagram.ui.properties.filters.DiagramEditPartPropertySectionFilter" 
            class="org.eclipse.gmf.runtime.diagram.ui.properties.sections.appearance.DiagramColorsAndFontsPropertySection" 
            tab="property.tab.AppearancePropertySection">
         </propertySection>     
         <propertySection id="property.section.RulerGridPropertySection" 
            filter="org.eclipse.gmf.runtime.diagram.ui.properties.filters.DiagramEditPartPropertySectionFilter" 
            class="org.eclipse.gmf.runtime.diagram.ui.properties.sections.grid.RulerGridPropertySection" 
            tab="property.tab.DiagramPropertySection">
         </propertySection>     
         <propertySection
            id="property.section.domain" 
            tab="property.tab.domain"
            class="org.eclipse.papyrus.uml.diagram.statemachine.sheet.UMLPropertySection">
            <input type="org.eclipse.gmf.runtime.notation.View"/>
            <input type="org.eclipse.gef.EditPart"/>
            <input type="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLAbstractNavigatorItem"/>
         </propertySection>
         <propertySection
            id="property.section.domain" 
            tab="property.tab.domain"
            class="org.eclipse.papyrus.uml.diagram.statemachine.sheet.UMLPropertySection">
            <input type="org.eclipse.gmf.runtime.notation.View"/>
            <input type="org.eclipse.gef.EditPart"/>
            <input type="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLAbstractNavigatorItem"/>
         </propertySection>
         <propertySection
            id="property.section.domain" 
            tab="property.tab.domain"
            class="org.eclipse.papyrus.uml.diagram.statemachine.sheet.UMLPropertySection">
            <input type="org.eclipse.gmf.runtime.notation.View"/>
            <input type="org.eclipse.gef.EditPart"/>
            <input type="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLAbstractNavigatorItem"/>
         </propertySection>
      </propertySections>
   </extension>


<?gmfgen generated="true"?>

	
   <extension point="org.eclipse.gmf.runtime.diagram.core.viewProviders" id="view-provider">
      <?gmfgen generated="true"?>
      <viewProvider class="org.eclipse.papyrus.uml.diagram.statemachine.providers.UMLViewProvider">
         <Priority name="Lowest"/>
         <context viewClass="org.eclipse.gmf.runtime.notation.Diagram" semanticHints="PapyrusUMLStateMachineDiagram"/>
         <context viewClass="org.eclipse.gmf.runtime.notation.Node" semanticHints="2000,3000,5000,6000,8000,9000,10000,11000,12000,13000,14000,15000,16000,17000,18000,666,668,680,690,691,692"/>
         <context viewClass="org.eclipse.gmf.runtime.notation.Edge" semanticHints="7000,19000,667,670"/>
      </viewProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.diagram.ui.editpartProviders" id="ep-provider">
      <?gmfgen generated="true"?>
      <editpartProvider class="org.eclipse.papyrus.uml.diagram.statemachine.providers.UMLEditPartProvider">
         <Priority name="Lowest"/>
         <object class="org.eclipse.gmf.runtime.notation.Diagram" id="generated-diagram">
            <method name="getType()" value="PapyrusUMLStateMachineDiagram"/>
         </object>
         <object class="org.eclipse.gmf.runtime.notation.Node" id="generated-nodes">
            <method name="getType()" value="2000,3000,5000,6000,8000,9000,10000,11000,12000,13000,14000,15000,16000,17000,18000,666,668,680,690,691,692"/>
         </object>
         <object class="org.eclipse.gmf.runtime.notation.Edge" id="generated-links">
            <method name="getType()" value="7000,19000,667,670"/>
         </object>
         <object class="org.eclipse.gmf.runtime.notation.Node" id="generated-labels">
            <method name="getType()" value="2001,5001,5002,6001,8001,8002,9001,9002,10001,10002,11001,11002,12001,12002,13001,13002,14001,14002,15001,15002,16001,16002,17001,17002,18001,18002,6666,6668,6669"/>
         </object>
         <object class="org.eclipse.gmf.runtime.notation.Node" id="generated-compartments">
            <method name="getType()" value="3002,2002,6002"/>
         </object>
         <context views="generated-diagram,generated-nodes,generated-links,generated-labels,generated-compartments"/>
      </editpartProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.emf.ui.modelingAssistantProviders" id="modelassist-provider">
      <?gmfgen generated="true"?>
      <modelingAssistantProvider class="org.eclipse.papyrus.uml.diagram.statemachine.providers.UMLModelingAssistantProvider">
         <Priority name="Lowest"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.PackageEditPart" id="Package_1000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.StateMachineEditPart" id="StateMachine_2000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.RegionEditPart" id="Region_3000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.FinalStateEditPart" id="FinalState_5000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.StateEditPart" id="State_6000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.PseudostateInitialEditPart" id="Pseudostate_8000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.PseudostateJoinEditPart" id="Pseudostate_9000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.PseudostateForkEditPart" id="Pseudostate_10000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.PseudostateChoiceEditPart" id="Pseudostate_11000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.PseudostateJunctionEditPart" id="Pseudostate_12000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.PseudostateShallowHistoryEditPart" id="Pseudostate_13000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.PseudostateDeepHistoryEditPart" id="Pseudostate_14000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.PseudostateTerminateEditPart" id="Pseudostate_15000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.PseudostateEntryPointEditPart" id="Pseudostate_16000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.PseudostateExitPointEditPart" id="Pseudostate_17000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.ConnectionPointReferenceEditPart" id="ConnectionPointReference_18000"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.CommentEditPart" id="Comment_666"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.ConstraintEditPart" id="Constraint_668"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.InternalTransitionEditPart" id="Transition_680"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.EntryStateBehaviorEditPart" id="Behavior_690"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.DoActivityStateBehaviorStateEditPart" id="Behavior_691"/>
         <object class="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.ExitStateBehaviorEditPart" id="Behavior_692"/>
         <context elements="Package_1000,StateMachine_2000,Region_3000,FinalState_5000,State_6000,Pseudostate_8000,Pseudostate_9000,Pseudostate_10000,Pseudostate_11000,Pseudostate_12000,Pseudostate_13000,Pseudostate_14000,Pseudostate_15000,Pseudostate_16000,Pseudostate_17000,ConnectionPointReference_18000,Comment_666,Constraint_668,Transition_680,Behavior_690,Behavior_691,Behavior_692"/>
      </modelingAssistantProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.common.ui.services.iconProviders" id="icon-provider">
      <?gmfgen generated="true"?>
      <IconProvider class="org.eclipse.papyrus.uml.diagram.statemachine.providers.UMLIconProvider">
         <Priority name="Low"/>
      </IconProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.common.ui.services.parserProviders" id="parser-provider">
      <?gmfgen generated="true"?>
      <ParserProvider class="org.eclipse.papyrus.uml.diagram.statemachine.providers.UMLParserProvider">
         <Priority name="Lowest"/>
      </ParserProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.emf.type.core.elementTypes" id="element-types">
      <?gmfgen generated="true"?>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.Package_1000"
               name="%metatype.name.Package_1000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Package"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.PackageEditHelper">
            <param name="semanticHint" value="1000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.StateMachine_2000"
               name="%metatype.name.StateMachine_2000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="StateMachine"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.StateMachineEditHelper">
            <param name="semanticHint" value="2000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.Region_3000"
               name="%metatype.name.Region_3000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Region"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.RegionEditHelper">
            <param name="semanticHint" value="3000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.FinalState_5000"
               name="%metatype.name.FinalState_5000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="FinalState"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.FinalStateEditHelper">
            <param name="semanticHint" value="5000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.State_6000"
               name="%metatype.name.State_6000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="State"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.StateEditHelper">
            <param name="semanticHint" value="6000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_8000"
               name="%metatype.name.Pseudostate_8000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Pseudostate"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.PseudostateEditHelper">
            <param name="semanticHint" value="8000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_9000"
               name="%metatype.name.Pseudostate_9000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Pseudostate"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.PseudostateEditHelper">
            <param name="semanticHint" value="9000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_10000"
               name="%metatype.name.Pseudostate_10000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Pseudostate"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.PseudostateEditHelper">
            <param name="semanticHint" value="10000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_11000"
               name="%metatype.name.Pseudostate_11000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Pseudostate"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.PseudostateEditHelper">
            <param name="semanticHint" value="11000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_12000"
               name="%metatype.name.Pseudostate_12000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Pseudostate"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.PseudostateEditHelper">
            <param name="semanticHint" value="12000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_13000"
               name="%metatype.name.Pseudostate_13000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Pseudostate"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.PseudostateEditHelper">
            <param name="semanticHint" value="13000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_14000"
               name="%metatype.name.Pseudostate_14000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Pseudostate"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.PseudostateEditHelper">
            <param name="semanticHint" value="14000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_15000"
               name="%metatype.name.Pseudostate_15000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Pseudostate"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.PseudostateEditHelper">
            <param name="semanticHint" value="15000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_16000"
               name="%metatype.name.Pseudostate_16000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Pseudostate"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.PseudostateEditHelper">
            <param name="semanticHint" value="16000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_17000"
               name="%metatype.name.Pseudostate_17000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Pseudostate"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.PseudostateEditHelper">
            <param name="semanticHint" value="17000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.ConnectionPointReference_18000"
               name="%metatype.name.ConnectionPointReference_18000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="ConnectionPointReference"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.ConnectionPointReferenceEditHelper">
            <param name="semanticHint" value="18000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.StateMachineComment"
               name="%metatype.name.Comment_666"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Comment"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.CommentEditHelper">
            <param name="semanticHint" value="666"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.Constraint_668"
               name="%metatype.name.Constraint_668"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Constraint"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.ConstraintEditHelper">
            <param name="semanticHint" value="668"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <specializationType
               id="org.eclipse.papyrus.uml.diagram.statemachine.InternalTransition_680"
               name="%metatype.name.Transition_680"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType">
            <specializes id="org.eclipse.papyrus.uml.diagram.statemachine.Transition_7000"/>
            <param name="semanticHint" value="680"/>
         </specializationType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.EntryStateBehavior_690"
               name="%metatype.name.Behavior_690"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Behavior"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.EntryStateBehaviorEditHelper">
            <param name="semanticHint" value="690"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.DoActivityStateBehavior_691"
               name="%metatype.name.Behavior_691"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Behavior"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.DoActivityStateBehaviorEditHelper">
            <param name="semanticHint" value="691"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.ExitStateBehavior_692"
               name="%metatype.name.Behavior_692"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Behavior"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.ExitStateBehaviorEditHelper">
            <param name="semanticHint" value="692"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.Transition_7000"
               name="%metatype.name.Transition_7000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Transition"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.TransitionEditHelper">
            <param name="semanticHint" value="7000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <metamodelType
               id="org.eclipse.papyrus.uml.diagram.statemachine.Generalization_19000"
               name="%metatype.name.Generalization_19000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Generalization"
               edithelper="org.eclipse.papyrus.uml.diagram.statemachine.edit.helpers.GeneralizationEditHelper">
            <param name="semanticHint" value="19000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <specializationType
               id="org.eclipse.papyrus.uml.diagram.statemachine.CommentAnnotatedElement_667"
               name="%metatype.name.CommentAnnotatedElement_667"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType">
            <specializes id="org.eclipse.gmf.runtime.emf.type.core.null"/>
            <param name="semanticHint" value="667"/>
         </specializationType>
      </metamodel>
      <metamodel nsURI="http://www.eclipse.org/uml2/4.0.0/UML">
         <specializationType
               id="org.eclipse.papyrus.uml.diagram.statemachine.ConstraintConstrainedElement_670"
               name="%metatype.name.ConstraintConstrainedElement_670"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType">
            <specializes id="org.eclipse.gmf.runtime.emf.type.core.null"/>
            <param name="semanticHint" value="670"/>
         </specializationType>
      </metamodel>
   </extension>

   <extension point="org.eclipse.gmf.runtime.emf.type.core.elementTypeBindings" id="element-types-bindings">
      <?gmfgen generated="true"?>
      <clientContext id="org.eclipse.papyrus.uml.diagram.statemachine.TypeContext">
         <enablement>
            <test
               property="org.eclipse.gmf.runtime.emf.core.editingDomain"
               value="org.eclipse.papyrus.uml.diagram.statemachine.EditingDomain"/>
         </enablement>
      </clientContext> 
      <binding context="org.eclipse.papyrus.uml.diagram.statemachine.TypeContext">
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.Package_1000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.StateMachine_2000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.Region_3000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.FinalState_5000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.State_6000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_8000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_9000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_10000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_11000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_12000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_13000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_14000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_15000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_16000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.Pseudostate_17000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.ConnectionPointReference_18000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.StateMachineComment"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.Constraint_668"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.InternalTransition_680"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.EntryStateBehavior_690"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.DoActivityStateBehavior_691"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.ExitStateBehavior_692"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.Transition_7000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.Generalization_19000"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.CommentAnnotatedElement_667"/>
         <elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.ConstraintConstrainedElement_670"/>
         <advice ref="org.eclipse.gmf.runtime.diagram.core.advice.notationDepdendents"/>
         <advice ref="org.eclipse.papyrus.infra.emf.readOnlyAdvice"/>
      </binding>
   </extension>
	   <extension point="org.eclipse.core.expressions.propertyTesters" id="navigator-proptest.isURIEditorInput">
      <?gmfgen generated="true"?>
       <propertyTester
           id="org.eclipse.papyrus.uml.diagram.statemachine.URIEditorInputPropertyTester"
           type="org.eclipse.emf.common.ui.URIEditorInput"
           namespace="org.eclipse.papyrus.uml.diagram.statemachine"
           properties="isURIEditorInput"
           class="org.eclipse.papyrus.uml.diagram.statemachine.part.UMLUriEditorInputTester">
       </propertyTester>
   </extension>

	   <extension point="org.eclipse.ui.navigator.viewer" id="navigator-viewbinding">
      <?gmfgen generated="true"?>
      <viewerContentBinding viewerId="org.eclipse.ui.navigator.ProjectExplorer">
         <includes>
            <contentExtension pattern="org.eclipse.papyrus.uml.diagram.statemachine.resourceContent"/>
			<contentExtension pattern="org.eclipse.papyrus.uml.diagram.statemachine.domainResourceContent"/>
            <contentExtension pattern="org.eclipse.papyrus.uml.diagram.statemachine.navigatorLinkHelper"/>
         </includes>
      </viewerContentBinding>
      <viewerActionBinding viewerId="org.eclipse.ui.navigator.ProjectExplorer">
         <includes>
            <actionExtension pattern="org.eclipse.papyrus.uml.diagram.statemachine.navigatorActionProvider"/>
         </includes>
      </viewerActionBinding>
   </extension>

   <extension point="org.eclipse.ui.navigator.navigatorContent" id="navigator-content">
      <?gmfgen generated="true"?>
      <navigatorContent
            id="org.eclipse.papyrus.uml.diagram.statemachine.resourceContent" 
            name="%navigatorContentName" 
            priority="normal" 
            contentProvider="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLNavigatorContentProvider" 
            labelProvider="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLNavigatorLabelProvider"
            icon="icons/UMLDiagramFile.gif"
            activeByDefault="true">
         <triggerPoints>
            <or>
	           <and>
    	          <instanceof value="org.eclipse.core.resources.IFile"/>
        	      <test property="org.eclipse.core.resources.extension" value="PapyrusUMLStateMachine_diagram"/>
               </and>
               <instanceof value="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLAbstractNavigatorItem"/>
            </or>
         </triggerPoints>
         <possibleChildren>
            <or>
         	   <instanceof value="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLAbstractNavigatorItem"/>
            </or>
         </possibleChildren>
         <commonSorter 
               id="org.eclipse.papyrus.uml.diagram.statemachine.navigatorSorter" 
               class="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLNavigatorSorter">
            <parentExpression>
               <or>
	              <and>
    	             <instanceof value="org.eclipse.core.resources.IFile"/>
        	         <test property="org.eclipse.core.resources.extension" value="PapyrusUMLStateMachine_diagram"/>
                  </and>
                  <instanceof value="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLAbstractNavigatorItem"/>
               </or>
            </parentExpression>
         </commonSorter>
      </navigatorContent>
      <navigatorContent
            id="org.eclipse.papyrus.uml.diagram.statemachine.domainResourceContent" 
            name="%domainNavigatorContentName" 
            priority="normal" 
            contentProvider="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLDomainNavigatorContentProvider" 
            labelProvider="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLDomainNavigatorLabelProvider"
            icon="icons/UMLDiagramFile.gif"
            activeByDefault="true">
         <triggerPoints>
            <or>
	           <and>
    	          <instanceof value="org.eclipse.core.resources.IFile"/>
        	      <test property="org.eclipse.core.resources.extension" value="PapyrusUMLStateMachine"/>
               </and>
               <instanceof value="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLDomainNavigatorItem"/>
            </or>
         </triggerPoints>
         <possibleChildren>
            <instanceof value="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLDomainNavigatorItem"/>
         </possibleChildren>
      </navigatorContent>
      <actionProvider
            id="org.eclipse.papyrus.uml.diagram.statemachine.navigatorActionProvider"
            class="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLNavigatorActionProvider">
         <enablement>
            <or>
               <instanceof value="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLAbstractNavigatorItem"/>
            </or>
         </enablement>
      </actionProvider>
   </extension>
   
	   <extension point="org.eclipse.ui.navigator.linkHelper" id="navigator-linkhelper">
      <?gmfgen generated="true"?>
      <linkHelper
            id="org.eclipse.papyrus.uml.diagram.statemachine.navigatorLinkHelper"
            class="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLNavigatorLinkHelper">
         <editorInputEnablement>
            <and>
               <instanceof value="org.eclipse.emf.common.ui.URIEditorInput"/>
               <test property="org.eclipse.papyrus.uml.diagram.statemachine.isURIEditorInput"/>
            </and>
         </editorInputEnablement>
         <selectionEnablement>
            <instanceof value="org.eclipse.papyrus.uml.diagram.statemachine.navigator.UMLAbstractNavigatorItem"/>
         </selectionEnablement>
      </linkHelper>
   </extension>
   <extension point="org.eclipse.ui.commands" id="update-cmd">
      <?gmfgen generated="true"?>
      <command
         categoryId="org.eclipse.ui.category.edit"
         defaultHandler="org.eclipse.papyrus.uml.diagram.statemachine.part.UMLDiagramUpdateCommand"
         description="%update.diagram.description"
         id="org.eclipse.papyrus.uml.diagram.statemachine.updateDiagram"
         name="%update.diagram.name"/>
   </extension>
   
   <extension point="org.eclipse.ui.bindings" id="update-cmd-binding">
      <?gmfgen generated="true"?>
      <key 
         commandId="org.eclipse.papyrus.uml.diagram.statemachine.updateDiagram"
         contextId="org.eclipse.papyrus.uml.diagram.statemachine.ui.diagramContext"
         schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
         sequence="F5"/>
   </extension>

   <extension point="org.eclipse.ui.menus" id="context-menus">
      <?gmfgen generated="true"?>
      <!-- menuContribution locationURI="menu:org.eclipse.ui.main.menu?after=">
      </menuContribution>
      <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar?after=">
      </menuContribution -->
      <menuContribution locationURI="popup:org.eclipse.gmf.runtime.diagram.ui.DiagramEditorContextMenu">
         <command commandId="org.eclipse.papyrus.uml.diagram.statemachine.LoadResourceAction">
            <visibleWhen>
               <and>
                  <with variable="activePartId"><equals value="org.eclipse.papyrus.uml.diagram.statemachine.part.UMLDiagramEditorID"/></with>
                  <with variable="selection"><iterate ifEmpty="false"> 
                     <instanceof value="org.eclipse.papyrus.uml.diagram.statemachine.edit.parts.PackageEditPart"/>
                  </iterate></with>
               </and>
            </visibleWhen>
         </command>
      </menuContribution>
   </extension>

   <extension point="org.eclipse.ui.commands" id="menu-commands">
      <?gmfgen generated="true"?>
      <category id="org.eclipse.papyrus.uml.diagram.statemachine.part.UMLDiagramEditorID" name="%cmdcategory.name" description="%cmdcategory.desc"/>
      <command id="org.eclipse.papyrus.uml.diagram.statemachine.LoadResourceAction"
         name="Load Resource"
         categoryId="org.eclipse.papyrus.uml.diagram.statemachine.part.UMLDiagramEditorID"
         defaultHandler="org.eclipse.papyrus.uml.diagram.statemachine.part.LoadResourceAction"/>
   </extension>

<!-- Diagram creation command and handler -->
<extension point="org.eclipse.ui.commands">
	<command id="org.eclipse.papyrus.uml.diagram.statemachine.CreationCommand"
		name="Create a new StateMachine Diagram"
		description="Create a new StateMachine Diagram"
		categoryId="org.eclipse.papyrus.editor.category"/>
</extension>

   <extension point="org.eclipse.ui.handlers">
	<handler
		class="org.eclipse.papyrus.uml.diagram.statemachine.CreateStateMachineDiagramWithNavigationHandler"
		commandId="org.eclipse.papyrus.uml.diagram.statemachine.CreationCommand">
		<activeWhen>
			<with variable="activeEditorId">
				<equals value="org.eclipse.papyrus.infra.core.papyrusEditor" />
			</with>
		</activeWhen>
	</handler>
   </extension>

<!-- Diagram creation command registration in menu and toolbar -->
<extension point="org.eclipse.ui.menus">

	<menuContribution locationURI="menu:org.eclipse.papyrus.ui.menu">
	<menu id="org.eclipse.papyrus.uml.diagram.ui.menu.diagrams" label="Diagrams">
		<command commandId="org.eclipse.papyrus.uml.diagram.statemachine.CreationCommand"
			icon="icons/obj16/Diagram_StateMachine.gif" label="Create a new StateMachine Diagram"
			style="push" tooltip="Create a new StateMachine Diagram">
			<visibleWhen>
				<reference definitionId="org.eclipse.papyrus.uml.diagram.common.IsPapyrusActiveWithUMLModel"/>
			</visibleWhen> 
		</command>
	</menu>
	</menuContribution>
	
	<menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar">
	<toolbar id="org.eclipse.papyrus.uml.diagram.ui.toolbar">
		<command commandId="org.eclipse.papyrus.uml.diagram.statemachine.CreationCommand"
			icon="icons/obj16/Diagram_StateMachine.gif" label="Create a new StateMachine Diagram"
			style="push" tooltip="Create a new StateMachine Diagram">
			<visibleWhen>
				<reference definitionId="org.eclipse.papyrus.uml.diagram.common.IsPapyrusActiveWithUMLModel"/>
			</visibleWhen> 
		</command>
	</toolbar>
	</menuContribution>

	<menuContribution locationURI="popup:org.eclipse.papyrus.views.modelexplorer.popupmenu.creatediagram">
		<command commandId="org.eclipse.papyrus.uml.diagram.statemachine.CreationCommand"
			icon="icons/obj16/Diagram_StateMachine.gif"
			label="Create a new StateMachine Diagram"
			style="push"
			tooltip="Create a new StateMachine Diagram">
			<visibleWhen>
				<reference definitionId="org.eclipse.papyrus.uml.diagram.common.IsPapyrusActiveWithUMLModel"/>
			</visibleWhen>
		</command>
	</menuContribution>	
	
</extension>
   
   <extension
         point="org.eclipse.papyrus.infra.core.papyrusDiagram">
      <editorDiagram
            actionBarContributorId="org.eclipse.papyrus.uml.diagram.common.part.UMLDiagramActionBarContributor"
            factoryClass="org.eclipse.papyrus.uml.diagram.statemachine.StateMachineDiagramEditorFactory"
            icon="icons/obj16/Diagram_StateMachine.gif">
      </editorDiagram>
      <creationCommand
            creationCommandClass="org.eclipse.papyrus.uml.diagram.statemachine.CreateStateMachineDiagramCommand"
            creationCondition="org.eclipse.papyrus.uml.diagram.statemachine.StateMachineDiagramCreationCondition"
            icon="icons/obj16/Diagram_StateMachine.gif"
            id="org.eclipse.papyrus.uml.diagram.statemachine.CreationCommand"
            language="uml"
            label="UML StateMachine Diagram">
      </creationCommand>
   </extension>

<extension
      point="org.eclipse.gmf.runtime.diagram.ui.editpartProviders">
   <editpartProvider
         class="org.eclipse.papyrus.uml.diagram.statemachine.custom.providers.CustomUMLEditPartProvider">
      <Priority
            name="Highest">
      </Priority>
      <object
            class="org.eclipse.gmf.runtime.notation.Diagram"
            id="generated-diagram">
         <method
               name="getType()"
               value="PapyrusUMLStateMachineDiagram">
         </method>
      </object>
      <object
            class="org.eclipse.gmf.runtime.notation.Node"
            id="generated-nodes">
         <method
               name="getType()"
               value="2000,3000,4000">
         </method>
      </object>
      <object
            class="org.eclipse.gmf.runtime.notation.Edge"
            id="generated-links">
         <method
               name="getType()">
         </method>
      </object>
      <object
            class="org.eclipse.gmf.runtime.notation.Node"
            id="generated-labels">
         <method
               name="getType()"
               value="2001,3001">
         </method>
      </object>
      <object
            class="org.eclipse.gmf.runtime.notation.Node"
            id="generated-compartments">
         <method
               name="getType()"
               value="3002,2002,4002">
         </method>
      </object>
      <context
            views="generated-diagram,generated-nodes,generated-links,generated-labels,generated-compartments">
      </context>
   </editpartProvider>
</extension>


<extension point="org.eclipse.ui.preferencePages">


		
	<?gmfgen generated="true"?>
	<page  	category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
			class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.ExitStateBehaviorPreferencePage"
            id="org.eclipse.papyrus.uml.diagram.statemachine.preferences.ExitStateBehaviorPreferencePage"
            name="ExitStateBehavior Node" />
	
		
	<?gmfgen generated="true"?>
	<page  	category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
			class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.EntryStateBehaviorPreferencePage"
            id="org.eclipse.papyrus.uml.diagram.statemachine.preferences.EntryStateBehaviorPreferencePage"
            name="EntryStateBehavior Node" />
	
		
	<?gmfgen generated="true"?>
	<page  	category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
			class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.DoActivityStateBehaviorPreferencePage"
            id="org.eclipse.papyrus.uml.diagram.statemachine.preferences.DoActivityStateBehaviorPreferencePage"
            name="DoActivityStateBehavior Node" />
	
		
	<?gmfgen generated="true"?>
	<page  	category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
			class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.ConstraintPreferencePage"
            id="org.eclipse.papyrus.uml.diagram.statemachine.preferences.ConstraintPreferencePage"
            name="Constraint Node" />
	
		
	<?gmfgen generated="true"?>
	<page  	category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
			class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.CommentPreferencePage"
            id="org.eclipse.papyrus.uml.diagram.statemachine.preferences.CommentPreferencePage"
            name="Comment Node" />
	
		
	<?gmfgen generated="true"?>
	<page  	category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
			class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.PseudostatePreferencePage"
            id="org.eclipse.papyrus.uml.diagram.statemachine.preferences.PseudostatePreferencePage"
            name="Pseudostate Node" />
	
		
	<?gmfgen generated="true"?>
	<page  	category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
			class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.ConnectionPointReferencePreferencePage"
            id="org.eclipse.papyrus.uml.diagram.statemachine.preferences.ConnectionPointReferencePreferencePage"
            name="ConnectionPointReference Node" />
	
		
	<?gmfgen generated="true"?>
	<page  	category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
			class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.RegionPreferencePage"
            id="org.eclipse.papyrus.uml.diagram.statemachine.preferences.RegionPreferencePage"
            name="Region Node" />
	
		
	<?gmfgen generated="true"?>
	<page  	category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
			class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.StatePreferencePage"
            id="org.eclipse.papyrus.uml.diagram.statemachine.preferences.StatePreferencePage"
            name="State Node" />
	
		
	<?gmfgen generated="true"?>
	<page  	category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
			class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.FinalStatePreferencePage"
            id="org.eclipse.papyrus.uml.diagram.statemachine.preferences.FinalStatePreferencePage"
            name="FinalState Node" />
	
		
	<?gmfgen generated="true"?>
	<page  	category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
			class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.StateMachinePreferencePage"
            id="org.eclipse.papyrus.uml.diagram.statemachine.preferences.StateMachinePreferencePage"
            name="StateMachine Node" />
	
		
	<?gmfgen generated="true"?>
	<page  	category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
			class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.InternalTransitionPreferencePage"
            id="org.eclipse.papyrus.uml.diagram.statemachine.preferences.InternalTransitionPreferencePage"
            name="InternalTransition Node" />
	


		

	<?gmfgen generated="true"?>
	<page  	category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
			class="org.eclipse.papyrus.uml.diagram.statemachine.preferences.GeneralizationPreferencePage"
            id="org.eclipse.papyrus.uml.diagram.statemachine.preferences.GeneralizationPreferencePage"
            name="Generalization Link" />
		
		
<!-- changed by Ansgar Radermacher -->
	<?gmfgen generated="false"?>
	<page  	category="org.eclipse.papyrus.infra.gmfdiag.preferences.diagrams.PapyrusUMLStateMachineDiagram"
			class="org.eclipse.papyrus.uml.diagram.statemachine.custom.preferences.CustomTransitionPreferencePage"
            id="org.eclipse.papyrus.uml.diagram.statemachine.custom.preferences.TransitionPreferencePage"
            name="Transition Link" />
		
		
		

</extension>



<extension
		id="PapyrusUMLStateMachineDiagram.palettedefinition"
		name="PapyrusUMLStateMachineDiagram Predefined Entries"
		point="org.eclipse.gmf.runtime.diagram.ui.paletteProviders"> 
		
		<?gmfgen generated="true"?>	
		<paletteProvider class="org.eclipse.gmf.runtime.diagram.ui.providers.DefaultPaletteProvider">
			<Priority name="Lowest"/>
      		<contribution
            	factoryClass="org.eclipse.papyrus.uml.diagram.statemachine.part.UMLPaletteFactory">
     			<predefinedEntry id="standardGroup/noteStack/noteTool" remove="true"/> 
				<predefinedEntry id="standardGroup/noteStack/textTool" remove="true"/> 
				<predefinedEntry id="standardGroup/noteStack/noteattachmentTool" remove="true"/>
					<entry
       defineOnly="true"
       description="Region"
       id="createRegionCreationTool"
       kind="tool"
       label="Region"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Region.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Region.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="State"
       id="createStateCreationTool"
       kind="tool"
       label="State"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/State.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/State.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="Initial"
       id="createInitialCreationTool"
       kind="tool"
       label="Initial"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_initial.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_initial.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="FinalState"
       id="createFinalStateCreationTool"
       kind="tool"
       label="FinalState"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/FinalState.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/FinalState.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="ShallowHistory"
       id="createShallowHistoryCreationTool"
       kind="tool"
       label="ShallowHistory"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_shallowHistory.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_shallowHistory.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="DeepHistory"
       id="createDeepHistoryCreationTool"
       kind="tool"
       label="DeepHistory"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_deepHistory.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_deepHistory.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="Fork"
       id="createForkCreationTool"
       kind="tool"
       label="Fork"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_fork.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_fork.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="Join"
       id="createJoinCreationTool"
       kind="tool"
       label="Join"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_join.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_join.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="Choice"
       id="createChoiceCreationTool"
       kind="tool"
       label="Choice"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_choice.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_choice.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="Junction"
       id="createJunctionCreationTool"
       kind="tool"
       label="Junction"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_junction.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_junction.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="EntryPoint"
       id="createEntryPointCreationTool"
       kind="tool"
       label="EntryPoint"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_entryPoint.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_entryPoint.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="ExitPoint"
       id="createExitPointCreationTool"
       kind="tool"
       label="ExitPoint"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_exitPoint.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_exitPoint.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="Terminate"
       id="createTerminateCreationTool"
       kind="tool"
       label="Terminate"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_terminate.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Pseudostate_terminate.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="ConnectionPointReference"
       id="createConnectionPointReferenceCreationTool"
       kind="tool"
       label="ConnectionPointReference"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/ConnectionPointReference.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/ConnectionPointReference.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="Comment"
       id="createStateMachineCommentCreationTool"
       kind="tool"
       label="Comment"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Comment.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Comment.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="Create Constraint"
       id="createConstraintCreationTool"
       kind="tool"
       label="Constraint"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Constraint.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Constraint.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="Transition"
       id="createTransitionCreationTool"
       kind="tool"
       label="Transition"
       large_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Transition_local.gif"
       path=""
       small_icon="platform:/plugin/org.eclipse.uml2.uml.edit/icons/full/obj16/Transition_local.gif">
 	</entry>
	<entry
       defineOnly="true"
       description="Creation of a link for comment, constraint"
       id="createCommentlinkCreationTool"
       kind="tool"
       label="Link"
       large_icon="icons/obj16/Link.gif"
       path=""
       small_icon="icons/obj16/Link.gif">
 	</entry>

			</contribution>
		</paletteProvider>	
			
	</extension>

<extension point="org.eclipse.ui.handlers" id="menu-handlers">
      <?gmfgen generated="true"?>
   </extension>
<extension
      id="ui-context"
      point="org.eclipse.ui.contexts">
   <context
         description="%context.description"
         id="org.eclipse.papyrus.uml.diagram.statemachine.ui.diagramContext"
         name="%context.name"
         parentId="org.eclipse.gmf.runtime.diagram.ui.diagramContext">
   </context>
</extension>
<extension
		id="PapyrusUMLStateMachineDiagram.standard"
		name="PapyrusUMLStateMachineDiagram Standard Palette"
		point="org.eclipse.gmf.runtime.diagram.ui.paletteProviders"> 
		
		<?gmfgen generated="true"?>	
		<paletteProvider class="org.eclipse.gmf.runtime.diagram.ui.providers.DefaultPaletteProvider">
			<Priority name="Low"/>
      		<contribution
            	factoryClass="org.eclipse.papyrus.uml.diagram.statemachine.part.UMLPaletteFactory">
     			<predefinedEntry id="standardGroup/noteStack/noteTool" remove="true"/> 
				<predefinedEntry id="standardGroup/noteStack/textTool" remove="true"/> 
				<predefinedEntry id="standardGroup/noteStack/noteattachmentTool" remove="true"/>
					<entry
       description=""
       id="createNodesGroup"
       kind="drawer"
       label="Nodes"
       large_icon="platform:/plugin/org.eclipse.gmf.runtime.diagram.ui/icons/group.gif"
       path="/"
       small_icon="platform:/plugin/org.eclipse.gmf.runtime.diagram.ui/icons/group.gif">
       <expand
              force="true">
       </expand>
 	</entry>
 	 
 	 	<predefinedEntry
          id="createRegionCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createStateCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createInitialCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createFinalStateCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createShallowHistoryCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createDeepHistoryCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createForkCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createJoinCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createChoiceCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createJunctionCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createEntryPointCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createExitPointCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createTerminateCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createConnectionPointReferenceCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createStateMachineCommentCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createConstraintCreationTool"
          path="/createNodesGroup">
    </predefinedEntry>

	<entry
       description=""
       id="createEdgesGroup"
       kind="drawer"
       label="Edges"
       large_icon="platform:/plugin/org.eclipse.gmf.runtime.diagram.ui/icons/group.gif"
       path="/"
       small_icon="platform:/plugin/org.eclipse.gmf.runtime.diagram.ui/icons/group.gif">
       <expand
              force="true">
       </expand>
 	</entry>
 	 
 	 	<predefinedEntry
          id="createTransitionCreationTool"
          path="/createEdgesGroup">
    </predefinedEntry>
 	<predefinedEntry
          id="createCommentlinkCreationTool"
          path="/createEdgesGroup">
    </predefinedEntry>


			</contribution>
			<editor id="org.eclipse.papyrus.uml.diagram.statemachine"/>
		</paletteProvider>	
			
	</extension>
<extension id="validationDecoratorProvider" name="ValidationDecorations" point="org.eclipse.gmf.runtime.diagram.ui.decoratorProviders">
      <?gmfgen generated="true"?>
      <decoratorProvider class="org.eclipse.papyrus.uml.diagram.statemachine.providers.UMLValidationDecoratorProvider">
         <Priority name="Lowest"/>
         <object class="org.eclipse.gmf.runtime.diagram.ui.editparts.IPrimaryEditPart(org.eclipse.gmf.runtime.diagram.ui)" id="PRIMARY_VIEW"/>
         <context decoratorTargets="PRIMARY_VIEW"/>
      </decoratorProvider>
   </extension>
<extension point="org.eclipse.emf.validation.constraintProviders">
      <?gmfgen generated="true"?>
            <category id="org.eclipse.uml2.uml.util.UMLValidator.validateInternalTransition" mandatory="false" name="validateInternalTransition">
         <![CDATA[Validate internal transition]]>
      </category>
      <constraintProvider cache="true">
         <package namespaceUri="http://www.eclipse.org/uml2/4.0.0/UML"/>
               <constraints categories="org.eclipse.uml2.uml.util.UMLValidator.validateInternalTransition">
                  <constraint id="org.eclipse.uml2.uml.util.UMLValidator.validateInternalTransition_sameTargetAndSrouce"
            lang="OCL"
            name="validateInternalTransitionEnd"
            mode="Live"
            severity="ERROR" statusCode="200">
            <![CDATA[(kind = TransitionKind::internal) implies (source.oclIsKindOf (State) and source = target)]]>
            <description><![CDATA[Validate that internal transition has the same state for source and target]]></description>
            <message><![CDATA[Validate that internal transition has the same state for source and target]]></message>
            <target class="uml.Transition"/>
         </constraint>
                  </constraints>
      </constraintProvider>
   </extension>

<extension point="org.eclipse.emf.validation.constraintBindings">
      <?gmfgen generated="true"?>
      <clientContext default="false" id="org.eclipse.papyrus.uml.diagram.statemachineDefaultCtx">
         <selector class="org.eclipse.papyrus.uml.diagram.statemachine.providers.UMLValidationProvider$DefaultCtx"/>
      </clientContext>
      <binding context="org.eclipse.papyrus.uml.diagram.statemachineDefaultCtx">
                  <constraint ref="org.eclipse.papyrus.uml.diagram.statemachine.org.eclipse.uml2.uml.util.UMLValidator.validateInternalTransition_sameTargetAndSrouce"/>
               </binding>

   </extension>

<extension point="org.eclipse.emf.validation.ui.UIRegisteredClientContext">
      <?gmfgen generated="true"?>
      <clientContext id="org.eclipse.papyrus.uml.diagram.statemachineDefaultCtx"/>
   </extension>
 
 <extension
      point="org.eclipse.emf.transaction.listeners">
   <listener
         class="org.eclipse.papyrus.uml.diagram.statemachine.custom.listeners.StateBehaviorsListener">
      <editingDomain
            id="org.eclipse.papyrus.SharedEditingDomainID">
      </editingDomain>
   </listener>
	   <listener
	         class="org.eclipse.papyrus.uml.diagram.statemachine.custom.listeners.InternalStateListener">
	      <editingDomain
	            id="org.eclipse.papyrus.SharedEditingDomainID">
	      </editingDomain>
	   </listener>
	</extension>


   <!-- optionally, specify keybindings -->
   
   <!-- Diagram specific advices -->
<extension point="org.eclipse.gmf.runtime.emf.type.core.elementTypes">

	<metamodel nsURI="http://www.eclipse.org/uml2/3.0.0/UML">

	<!-- Region specific advice (eventually adapt other regions, if a region gets deleted -->		
	<adviceBinding id="org.eclipse.papyrus.uml.diagram.statemachine.custom.helpers.advice.RegionHelperAdvice"
		class="org.eclipse.papyrus.uml.diagram.statemachine.custom.helpers.advice.RegionHelperAdvice"
		inheritance="all" typeId="org.eclipse.papyrus.uml.Region">
	</adviceBinding>
		
	</metamodel>
</extension>

<!-- UML ElementType bindings to Papyrus shared IClientContext -->
<extension point="org.eclipse.gmf.runtime.emf.type.core.elementTypeBindings">

	<!-- Bindings declaration to shared IClientContext -->
	<binding context="org.eclipse.papyrus.infra.services.edit.TypeContext">	
		<elementType ref="org.eclipse.papyrus.uml.diagram.statemachine.custom.helpers.advice.RegionHelperAdvice"/>
	</binding>
		
</extension>
<extension point="org.eclipse.papyrus.infra.gmfdiag.common.notationTypesMapping">
		<diagramMappings diagramID="PapyrusUMLStateMachineDiagram">
			<mapping type="PapyrusUMLStateMachineDiagram" humanReadableType="StateMachineDiagram"/>
			
	<mapping
		humanReadableType="Region"
		type="3002">
	</mapping>

	<mapping
		humanReadableType="StateMachine"
		type="2002">
	</mapping>

	<mapping
		humanReadableType="State"
		type="6002">
	</mapping>
		</diagramMappings>
	</extension>

</plugin>
